{"version":3,"sources":["actions/types.js","actions/index.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["FETCH_USER","fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","style","margin","credits","console","log","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","path","exact","component","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"gWAAaA,EAAa,aCGbC,EAAY,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACXC,IAAMC,IAAI,qBADC,OACvBC,EADuB,OAE7BJ,EAAS,CAAEK,KAAMP,EAAYQ,QAASF,EAAIG,OAFb,2CAAN,uDAKZC,EAAc,SAACC,GAAD,8CAAW,WAAMT,GAAN,eAAAC,EAAA,sEAClBC,IAAMQ,KAAK,cAAeD,GADR,OAC9BL,EAD8B,OAEpCJ,EAAS,CAAEK,KAAMP,EAAYQ,QAASF,EAAIG,OAFN,2CAAX,uD,wBCHrBI,E,4JACJ,WAAU,IAAD,OACP,OACE,cAAC,IAAD,CACEC,KAAK,SACLC,YAAY,kBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAI,EAAKM,MAAMP,YAAYC,IACvCO,UAAWC,8GALb,SAOE,wBAAQC,UAAU,MAAlB,+B,GAVeC,aAkBRC,cAAQ,KAAMC,EAAdD,CAAuBT,GClBhCW,E,mKAEJ,WACE,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OAAO,6BAAI,mBAAGC,KAAK,eAAR,iCACb,QACE,MAAO,CACL,6BAAY,cAAC,EAAD,KAAJ,KACR,qBAAYC,MAAO,CAAEC,OAAQ,UAA7B,sBAAkDJ,KAAKR,MAAMS,KAAKI,UAA1D,KACR,6BAAY,mBAAGH,KAAK,cAAR,qBAAJ,S,oBAKhB,WAEE,OADAI,QAAQC,IAAIP,KAAKR,OAEf,8BACE,sBAAKG,UAAU,cAAf,UACE,cAAC,IAAD,CACEa,GAAKR,KAAKR,MAAMS,KAAO,WAAa,IACpCN,UAAU,kBAFZ,oBAMA,oBAAIA,UAAU,QAAd,SACGK,KAAKS,2B,GA7BGb,aAyCNC,mBAJf,YACE,MAAO,CAAEI,KADwB,EAARA,QAIZJ,CAAyBE,GCjCzBW,EAXC,WACd,OACE,sBAAKP,MAAO,CAAEQ,UAAW,UAAzB,UACE,yCADF,uCCIEC,EAAY,kBAAM,4CAClBC,EAAY,kBAAM,4CAElBC,E,uKACJ,WACEd,KAAKR,MAAMhB,c,oBAGb,WACE,OACE,qBAAKmB,UAAU,YAAf,SACE,cAAC,IAAD,UACE,gCACE,cAAC,EAAD,IACA,cAAC,IAAD,CAAOoB,KAAK,IAAIC,OAAK,EAACC,UAAWP,IACjC,cAAC,IAAD,CAAOK,KAAK,WAAWC,OAAK,EAACC,UAAWL,IACxC,cAAC,IAAD,CAAOG,KAAK,eAAeE,UAAWJ,e,GAbhCjB,aAqBHC,cAAQ,KAAMC,EAAdD,CAAuBiB,GC7BvBI,cAAgB,CAC7BjB,KCFa,WAAgC,IAAvBkB,EAAsB,uDAAd,KAAMC,EAAQ,uCAC5C,OAAOA,EAAOtC,MACZ,KAAKP,EACH,OAAO6C,EAAOrC,UAAW,EAC3B,QACE,OAAOoC,MCGPE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SAAwB,cAAC,EAAD,MACxBO,SAASC,cAAc,Y","file":"static/js/main.263dff14.chunk.js","sourcesContent":["export const FETCH_USER = 'fetch_user';","import axios from 'axios';\nimport { FETCH_USER } from './types'\n\nexport const fetchUser = () => async dispatch => {\n  const res = await axios.get('/api/current_user');\n  dispatch({ type: FETCH_USER, payload: res.data });\n};\n\nexport const handleToken = (token) => async dispatch => {\n  const res = await axios.post('/api/stripe', token);\n  dispatch({ type: FETCH_USER, payload: res.data });\n};","import React, { Component } from 'react';\nimport StripeChekcout from 'react-stripe-checkout';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nclass Payments extends Component {\n  render() {\n    return (\n      <StripeChekcout \n        name=\"Bookly\"\n        description=\"5$ for 5 emails\"\n        amount={500}\n        token={token => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n        <button className=\"btn\">\n          Add Credits\n        </button>\n      </StripeChekcout>\n    );\n  }\n}\n\nexport default connect(null, actions)(Payments);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Payments from './Payments'\n\nclass Header extends Component {\n\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return <li><a href=\"/auth/google\">Login with google</a></li>;\n      default:\n        return [\n          <li key=\"1\"><Payments /></li>,\n          <li key=\"3\" style={{ margin: '0 10px'}}>Credits: {this.props.auth.credits}</li>,\n          <li key=\"2\"><a href=\"/api/logout\">Logout</a></li>\n        ];\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return (\n      <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={ this.props.auth ? '/surveys' : '/' }\n            className=\"left brand-logo\"\n          >\n            Bookly\n          </Link>\n          <ul className=\"right\">\n            {this.renderContent()}\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps({ auth }) {\n  return { auth };\n}\n\nexport default connect(mapStateToProps)(Header);","import React from 'react';\n\nconst Landing = () => {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <h1>\n        Bookly!\n      </h1>\n      Collect feedback from your users\n    </div>\n  );\n};\n\nexport default Landing;","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nimport Header from './Header';\nimport Landing from './Landing';\n\nconst Dashboard = () => <h2>Dashboard</h2>\nconst SurveyNew = () => <h2>SurveyNew</h2>\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchUser();\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route path=\"/\" exact component={Landing} />\n            <Route path=\"/surveys\" exact component={Dashboard} />\n            <Route path=\"/surveys/new\" component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  };\n};\n\nexport default connect(null, actions)(App);","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\n\nexport default combineReducers({\n  auth: authReducer\n});","import { FETCH_USER } from \"../actions/types\";\n\nexport default function(state = null, action) {\n  switch(action.type){\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n}","import 'materialize-css/dist/css/materialize.min.css'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\n\nReactDOM.render(\n  <Provider store={store}><App /></Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}